<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">

    <include file="db/accounting/changelog/db.changelog-master.xml" relativeToChangelogFile="true"/>

    <changeSet id="persons" author="vzotov">
        <sql>
            INSERT INTO PERSON_ (PERSON_UID, FIRST_NAME, LAST_NAME, DISPLAY_NAME) VALUES ('vzotov', 'Vitaly', 'Zotov', 'Dad');
        </sql>
    </changeSet>

    <changeSet id="test1" author="vzotov">
        <sql>
            INSERT INTO ACCOUNT_ (ACCOUNT_NUMBER, NAME, ACCOUNT_OWNER)
            VALUES ('40817810108290123456', 'Зарплатный счет', 'vzotov');
        </sql>
    </changeSet>

    <changeSet id="test2" author="vzotov">
        <sql>
            INSERT INTO BUDGET_CATEGORY_ (ID, NAME, COLOR,ICON)
            VALUES (781381038049753674, 'Прочие расходы', '#FF000000', 'MyIcon');
        </sql>
    </changeSet>

    <changeSet id="test3" author="vzotov">
        <sql>
            INSERT INTO OPERATION_ (ID, DATE, CATEGORY_ID, AMOUNT, CURRENCY, OP_TYPE, ACCOUNT_ID, DESCRIPTION, COMMENT)
            VALUES ('test-operation-1', '2018-07-10', 781381038049753674, 50000, 'RUR', '-', '40817810108290123456',
            'тестовая операция', NULL);
        </sql>
    </changeSet>

    <changeSet id="test4" author="vzotov">
        <sql>
            INSERT INTO CARD_OPERATION_ (ID, CARD_NUMBER, POS_ID, POS_COUNTRY, POS_CITY, POS_STREET, POS_MERCHANT,
            AUTHORIZATION_DATE, PURCHASE_DATE, AMOUNT, CURRENCY, MCC)
            VALUES ('test-operation-1', '555957++++++1234', '10705017','RUS','MOSCOW','1 YA T','ROSTELECOM',
            '2018-07-10', '2018-07-07', 50000, 'RUR', '4812');
        </sql>
    </changeSet>

    <changeSet id="test7" author="vzotov">
        <sql>
            INSERT INTO HOLD_ (HOLD_ID, DATE, CATEGORY_ID, AMOUNT, CURRENCY, OP_TYPE, ACCOUNT_ID, DESCRIPTION, COMMENT)
            VALUES ('5c249510-2c7f-11eb-b9c4-6631261b2cd8', '2018-07-07', NULL, 50000, 'RUR', '-', '40817810108290123456', 'hold description', NULL);
        </sql>
    </changeSet>

    <changeSet id="test8" author="vzotov">
        <sql>
            INSERT INTO BANK_ (BANK_ID,NAME,NAME_SHORT,NAME_LONG)
            VALUES ('044525593','Альфа-банк','АО "АЛЬФА-БАНК"','АКЦИОНЕРНОЕ ОБЩЕСТВО "АЛЬФА-БАНК"');
        </sql>
    </changeSet>

    <changeSet id="test9" author="vzotov">
        <sql>
            INSERT INTO CARD_ (CARD_NUMBER, VALID_THRU, BANK_ID)
            VALUES ('4154822022031234','2024-02-29','044525593');

            INSERT INTO CARD_ACCOUNT(CARD_ID,ACCOUNT_NUMBER,DATE_FROM,DATE_TO)
            VALUES((SELECT ID FROM CARD_ WHERE CARD_NUMBER='4154822022031234'), '40817810108290123456', '2020-01-02',
            '2020-01-10');
        </sql>
    </changeSet>

    <changeSet id="test10" author="vzotov">
        <sql>
            INSERT INTO SPECIAL_DAY (DAY, LOCATION, NAME, DAY_TYPE)
            VALUES
            ('2020-01-01', 'RUS', 'Новогодние каникулы', 'H'),
            ('2020-01-02', 'RUS', 'Новогодние каникулы', 'H'),
            ('2020-01-03', 'RUS', 'Новогодние каникулы', 'H'),
            ('2020-01-04', 'RUS', 'Новогодние каникулы', 'H'),
            ('2020-01-05', 'RUS', 'Новогодние каникулы', 'H'),
            ('2020-01-06', 'RUS', 'Новогодние каникулы', 'H'),
            ('2020-01-07', 'RUS', 'Рождество Христово', 'H'),
            ('2020-01-08', 'RUS', 'Новогодние каникулы', 'H'),
            ('2020-02-23', 'RUS', 'День защитника Отечества', 'H'),
            ('2020-02-24', 'RUS', 'Перенос с воскресенья 23 февраля на понедельник 24 февраля', 'N'),
            ('2020-03-08', 'RUS', 'Международный женский день', 'H'),
            ('2020-03-09', 'RUS', 'Перенос с воскресенья 8 марта на понедельник 9 марта', 'N'),
            ('2020-05-01', 'RUS', 'Праздник Весны и Труда', 'H'),
            ('2020-05-09', 'RUS', 'День Победы', 'H'),
            ('2020-05-04', 'RUS', 'Перенос с субботы 4 января на понедельник 4 мая', 'N'),
            ('2020-05-05', 'RUS', 'Перенос с воскресенья 5 января на вторник 5 мая', 'N'),
            ('2020-05-11', 'RUS', 'Перенос с субботы 9 мая на понедельник 11 мая', 'N'),
            ('2020-06-12', 'RUS', 'День России', 'H'),
            ('2020-11-04', 'RUS', 'День народного единства', 'H');
        </sql>
    </changeSet>

    <changeSet id="test11" author="vzotov">
        <sql>
            INSERT INTO check_ (`DATE_TIME`,`OPERATION_TYPE`,`REQUEST_NUMBER`,`KKT_NUM`,`KKT_REG_ID`,
            `FISCAL_DRIVE_NUM`,`FISCAL_DOC_NUM`,`FISCAL_SIGN`,
            `MARKUP`,`MARKUP_SUM`,`DISCOUNT`,`DISCOUNT_SUM`,
            `SHIFT_NUM`,`OPERATOR`,`USER`,`USER_INN`,
            `ADDRESS`,
            `TAXATION_TYPE`,
            `TOTAL_SUM`,`CASH`,`ECASH`,
            `CHECK_ID`)
            VALUES
            (
            '2018-07-07 10:55:00',1,20,NULL,'0000111724038898',
            '9280440300024677',35260,1993523059,
            NULL,NULL,NULL,NULL,
            NULL,NULL,NULL,NULL,
            NULL,
            NULL,
            50000,0,50000,
            'check-id-1');

        </sql>
    </changeSet>

    <changeSet id="test12" author="vzotov">
        <sql>
            INSERT INTO qr_code (
            check_id,
            check_datetime,
            total_sum,
            fiscal_drive,
            fiscal_doc,
            fiscal_sign,
            operation_type,
            state,
            loading_count,
            loaded_at
            ) VALUES (
            'check-id-1',
            '2018-07-07 10:55:00',
            50000,
            '9280440300024677',
            35260,
            1993523059,
            1,
            'L',
            1,
            '2018-06-16 14:00:00'
            );
        </sql>
    </changeSet>

    <changeSet id="test13" author="vzotov">
        <sql>INSERT INTO CHECK_HOLDS(HOLD_ID, CHECK_ID) VALUES ('5c249510-2c7f-11eb-b9c4-6631261b2cd8', (SELECT ID FROM CHECK_ WHERE CHECK_ID='check-id-1'))</sql>
    </changeSet>

    <changeSet id="test14" author="vzotov">
        <sql>INSERT INTO QR_HOLDS(HOLD_ID, QR_ID) VALUES ('5c249510-2c7f-11eb-b9c4-6631261b2cd8', (SELECT ID FROM QR_CODE WHERE CHECK_ID='check-id-1'))</sql>
    </changeSet>

</databaseChangeLog>
